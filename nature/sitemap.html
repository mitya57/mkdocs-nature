{% extends "base.html" %}

{%- macro page_item(item) %}
    <li>
    {%- if item.url %}
        <a href="{{ item.url }}">{{ item.title }}</a>
    {%- else %}
        {{ item.title }}
    {%- endif %}
    {%- if item.children %}
        <ul>
        {%- for child in item.children %}
            {{ page_item(child) }}
        {%- endfor %}
        </ul>
    {%- endif %}
    </li>
{%- endmacro %}

{%- block content %}
    <h1 id="index">Index</h1>
    {%- if nav|length>1 %}
    <ul>
    {%- for item in nav %}
        {{ page_item(item) }}
    {%- endfor %}
    </ul>
    {%- else %}
        <p>No pages to list here.</p>
    {%- endif %}
{%- endblock %}